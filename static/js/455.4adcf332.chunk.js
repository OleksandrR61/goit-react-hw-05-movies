"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[455],{368:function(e,t,n){var r=n(689),u=n(87),a=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{children:t.map((function(e){var t,r,i=e.id,o=e.title,c=e.name,s=e.original_title,p=e.original_name;return(0,a.jsx)("li",{children:(0,a.jsx)(u.rU,{to:"/movies/".concat(i),state:{from:n},children:null!==(t=null!==(r=null!==o&&void 0!==o?o:c)&&void 0!==r?r:s)&&void 0!==t?t:p})},i)}))})})}},455:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),u=n(791),a=n(87),i=n(264),o=n(368),c=n(184),s=function(e){var t=e.onSubmit,n=(0,u.useState)(""),a=(0,r.Z)(n,2),i=a[0],o=a[1];return(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(i),o("")},children:[(0,c.jsx)("input",{type:"text",value:i,onChange:function(e){var t=e.target;o(t.value)}}),(0,c.jsx)("button",{type:"submit",children:"Search"})]})},p=n(66),f=function(){var e=(0,a.lr)(),t=(0,r.Z)(e,2),n=t[0],f=t[1],l=(0,u.useState)([]),v=(0,r.Z)(l,2),m=v[0],d=v[1],g=(0,u.useState)(1),h=(0,r.Z)(g,2),y=h[0],x=h[1],b=n.get("query")||"",k=Number(n.get("page"))||1,w=function(e){f({query:b,page:k+e})};return(0,u.useEffect)((function(){if(n.get("query"))try{(0,p.on)({query:n.get("query"),page:Number(n.get("page"))}).then((function(e){var t=e.data;d(t.results),x(t.total_pages)}))}catch(e){i.Notify.failure("Oops! Something in this life went wrong... Try again later.")}}),[n]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s,{onSubmit:function(e){f({query:e,page:1})}}),m.length>0&&(0,c.jsx)(o.Z,{movies:m}),1!==k&&(0,c.jsx)("button",{type:"button",onClick:function(){w(-1)},children:"Previous page"}),k!==y&&(0,c.jsx)("button",{type:"button",onClick:function(){w(1)},children:"Next page"})]})}},66:function(e,t,n){n.d(t,{HI:function(){return v},Hg:function(){return f},M1:function(){return m},on:function(){return l},tx:function(){return d}});var r=n(861),u=n(757),a=n.n(u),i=n(912),o=n(7),c=n.n(o),s="cfdd02dd28707c6f234d1fe341252632",p=i.Z.create({baseURL:"https://api.themoviedb.org/3"}),f=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={api_key:s},e.next=3,p.get("trending/all/day",{params:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.page,u={api_key:s,query:n,page:r},e.next=4,p.get("search/movie",{params:u});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={api_key:s},e.next=3,p.get("movie/".concat(t),{params:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={api_key:s},e.next=3,p.get("movie/".concat(t,"/credits"),{params:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={api_key:s},e.next=3,p.get("movie/".concat(t,"/reviews"),{params:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();l.propTypes={query:c().string.isRequired,page:c().number.isRequired},v.propTypes={moviId:c().string.isRequired},m.propTypes={moviId:c().string.isRequired},d.propTypes={moviId:c().string.isRequired}}}]);
//# sourceMappingURL=455.4adcf332.chunk.js.map